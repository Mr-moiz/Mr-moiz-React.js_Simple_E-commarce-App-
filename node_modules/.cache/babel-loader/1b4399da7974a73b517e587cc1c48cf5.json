{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/Applications/react-e-commarce/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Applications/react-e-commarce/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Applications/react-e-commarce/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Loader from'react-loader-spinner';import Header from'./components/Header';import Main from'./components/Main';import Basket from'./components/Basket';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){fetch(\"https://fakestoreapi.com/products\").then(function(res){return res.json();}).then(function(data){return setData(data);});setData(data);},[data]);var onAdd=function onAdd(product){var exist=cartItems.find(function(x){return x.id===product.id;});if(exist){setCartItems(cartItems.map(function(x){return x.id===product.id?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty+1}):x;}));}else{setCartItems([].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},product),{},{qty:1})]));}};var onRemove=function onRemove(product){var exist=cartItems.find(function(x){return x.id===product.id;});if(exist.qty===1){setCartItems(cartItems.filter(function(x){return x.id!==product.id;}));}else{setCartItems(cartItems.map(function(x){return x.id===product.id?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty-1}):x;}));}};//const  {products} = [...data]\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];return data?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{countCartItems:cartItems.length}),/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row mt-5\",children:[/*#__PURE__*/_jsx(Main,{data:data,onAdd:onAdd}),/*#__PURE__*/_jsx(Basket,{cartItems:cartItems,onAdd:onAdd,onRemove:onRemove})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\"   \",/*#__PURE__*/_jsx(Loader,{type:\"Puff\",color:\"#00BFFF\",height:300,width:200})]});};export default App;","map":{"version":3,"sources":["/Applications/react-e-commarce/src/App.js"],"names":["React","useEffect","useState","Loader","Header","Main","Basket","App","data","setData","fetch","then","res","json","onAdd","product","exist","cartItems","find","x","id","setCartItems","map","qty","onRemove","filter","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\n import Loader from 'react-loader-spinner'\n\n\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport Basket from './components/Basket';\n\nconst App = () => {\n\n\n  const [data, setData] =useState([]);\n\n  \n\n\n  \n\n  useEffect(() => {\n    fetch(`https://fakestoreapi.com/products`)\n      .then((res) => res.json())\n      .then((data) => setData(data))\n      setData(data)\n  }, [data])\n\n\n  const onAdd = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist) {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\n    }\n  };\n  const onRemove = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\n    } else {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\n        )\n      );\n    }\n  };\n    \n  //const  {products} = [...data]\n    \n    const [cartItems, setCartItems] = useState([]);\n         \n             return (data? \n   <div>\n       <Header countCartItems={cartItems.length}></Header>\n       <div class=\"container-fluid\">\n      \n               <div class=\"row mt-5\">\n               \n       <Main data={data} onAdd={onAdd}></Main>\n       <Basket\n          cartItems={cartItems}\n          onAdd={onAdd}\n          onRemove={onRemove}></Basket>\n    </div>\n    </div>\n    </div>\n    : <div className=\"loader\">   <Loader\n         type=\"Puff\"\n         color=\"#00BFFF\"\n         height={300}\n         width={200}\n         \n      /></div>\n   );   }\n  \n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}